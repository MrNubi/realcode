{"version":3,"file":"898.js","mappings":"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","sources":["webpack://sleact-ts-front/./hooks/useInput.tsx","webpack://sleact-ts-front/./pages/SignUp/styles.tsx","webpack://sleact-ts-front/./pages/SignUp/index.tsx","webpack://sleact-ts-front/./utills/fetcher.tsx"],"sourcesContent":["import { Dispatch, SetStateAction, useCallback, useState, ChangeEvent } from 'react';\r\n\r\ntype ReturnTypes<T> = [T, (e: ChangeEvent<HTMLInputElement>) => void, Dispatch<SetStateAction<T>>];\r\n\r\nconst useInput = <T,>(initialData: T): ReturnTypes<T> => {\r\n  const [value, setValue] = useState(initialData);\r\n  const handler = useCallback((e: ChangeEvent<HTMLInputElement>) => {\r\n    setValue(e.target.value as unknown as T);\r\n  }, []);\r\n  return [value, handler, setValue];\r\n};\r\n\r\nexport default useInput;\r\n","import styled from '@emotion/styled';\r\n\r\nexport const Header = styled.header`\r\n  text-align: center;\r\n  font-family: Slack-Larsseit, Helvetica Neue, Helvetica, Segoe UI, Tahoma, Arial, sans-serif;\r\n  font-weight: 700;\r\n  font-size: 48px;\r\n  line-height: 46px;\r\n  letter-spacing: -0.75px;\r\n  margin-top: 50px;\r\n  margin-bottom: 50px;\r\n`;\r\n\r\nexport const Form = styled.form`\r\n  margin: 0 auto;\r\n  width: 400px;\r\n  max-width: 400px;\r\n`;\r\n\r\nexport const Label = styled.label`\r\n  margin-bottom: 16px;\r\n  & > span {\r\n    display: block;\r\n    text-align: left;\r\n    padding-bottom: 8px;\r\n    font-size: 15px;\r\n    cursor: pointer;\r\n    line-height: 1.46666667;\r\n    font-weight: 700;\r\n  }\r\n`;\r\n\r\nexport const Input = styled.input`\r\n  border-radius: 4px;\r\n  --saf-0: rgba(var(--sk_foreground_high_solid, 134, 134, 134), 1);\r\n  border: 1px solid var(--saf-0);\r\n  transition: border 80ms ease-out, box-shadow 80ms ease-out;\r\n  box-sizing: border-box;\r\n  margin: 0 0 20px;\r\n  width: 100%;\r\n  color: rgba(var(--sk_primary_foreground, 29, 28, 29), 1);\r\n  background-color: rgba(var(--sk_primary_background, 255, 255, 255), 1);\r\n  padding: 12px;\r\n  height: 44px;\r\n  padding-top: 11px;\r\n  padding-bottom: 13px;\r\n  font-size: 18px;\r\n  line-height: 1.33333333;\r\n  &:focus {\r\n    --saf-0: rgba(var(--sk_highlight, 18, 100, 163), 1);\r\n    box-shadow: 0 0 0 1px var(--saf-0), 0 0 0 5px rgba(29, 155, 209, 0.3);\r\n  }\r\n`;\r\n\r\nexport const Button = styled.button`\r\n  margin-bottom: 12px;\r\n  width: 100%;\r\n  max-width: 100%;\r\n  color: #fff;\r\n  background-color: #4a154b;\r\n  border: none;\r\n  font-size: 18px;\r\n  font-weight: 900;\r\n  height: 44px;\r\n  min-width: 96px;\r\n  padding: 0 16px 3px;\r\n  transition: all 80ms linear;\r\n  user-select: none;\r\n  outline: none;\r\n  cursor: pointer;\r\n  border-radius: 4px;\r\n  box-shadow: 0 1px 4px rgba(0, 0, 0, 0.3);\r\n  &:hover {\r\n    background-color: rgba(74, 21, 75, 0.9);\r\n    border: none;\r\n  }\r\n  &:focus {\r\n    --saf-0: rgba(var(--sk_highlight, 18, 100, 163), 1);\r\n    box-shadow: 0 0 0 1px var(--saf-0), 0 0 0 5px rgba(29, 155, 209, 0.3);\r\n  }\r\n`;\r\n\r\nexport const Error = styled.div`\r\n  color: #e01e5a;\r\n  margin: 8px 0 16px;\r\n  font-weight: bold;\r\n`;\r\n\r\nexport const Success = styled.div`\r\n  color: #2eb67d;\r\n  font-weight: bold;\r\n`;\r\n\r\nexport const LinkContainer = styled.p`\r\n  font-size: 13px;\r\n  color: #616061;\r\n  margin: 0 auto 8px;\r\n  width: 400px;\r\n  max-width: 400px;\r\n  & a {\r\n    color: #1264a3;\r\n    text-decoration: none;\r\n    font-weight: 700;\r\n    &:hover {\r\n      text-decoration: underline;\r\n    }\r\n  }\r\n`;\r\n","import useInput from '../../hooks/useInput';\r\nimport axios, { AxiosResponse } from 'axios';\r\nimport React, { useCallback, useState } from 'react';\r\nimport { Link, Redirect } from 'react-router-dom';\r\nimport { Success, Form, Error, Label, Input, LinkContainer, Button, Header } from './styles';\r\nimport useSWR from 'swr';\r\nimport fetcher from '../../utills/fetcher';\r\nconst SignUp = () => {\r\n  const { data, error, mutate } = useSWR('/api/users', fetcher);\r\n\r\n  const [email, onChangeEmail, setEmail] = useInput('');\r\n  const [nickname, onChangeNickname, setNickname] = useInput('');\r\n  const [password, setPassword] = useState('');\r\n  const [passwordCheck, setPasswordCheck] = useState('');\r\n  const [mismatchError, setmismatchError] = useState(false);\r\n  const [signUpError, setSignUpError] = useState('');\r\n  const [signUpSuccess, setSignUpSuccess] = useState(false);\r\n\r\n  const onChangePassword = useCallback(\r\n    (e) => {\r\n      setPassword(e.target.value);\r\n      setmismatchError(e.target.value !== passwordCheck);\r\n      console.log('setmismatchError', mismatchError);\r\n    },\r\n    [passwordCheck],\r\n  );\r\n\r\n  const onChangePasswordCheck = useCallback(\r\n    (e) => {\r\n      setPasswordCheck(e.target.value);\r\n      setmismatchError(e.target.value !== password);\r\n      console.log('setmismatchError', mismatchError);\r\n    },\r\n    [password],\r\n  );\r\n\r\n  const onSubmit = useCallback(\r\n    (e) => {\r\n      e.preventDefault();\r\n      console.log(email, nickname, password, passwordCheck);\r\n      setSignUpSuccess(false);\r\n      setSignUpError('');\r\n      if (mismatchError === false) {\r\n        console.log('non-error -> 회원가입요청전송');\r\n        axios\r\n          .post(\r\n            '/api/users',\r\n            {\r\n              email,\r\n              nickname,\r\n              password,\r\n            },\r\n            {\r\n              withCredentials: true,\r\n            },\r\n          )\r\n          .then((response: AxiosResponse<any>) => {\r\n            //성공 시 코드\r\n            setSignUpSuccess(true);\r\n            console.log(response);\r\n          })\r\n          .catch((error) => {\r\n            //실패시 코드\r\n            console.log(error.response);\r\n            setSignUpError(error.response.data);\r\n            //비동기 요청 안에 setState같은거 넣을 때는 비동기 요청전에 초기화시켜주는게 좋다\r\n            //요청이 연달아 날아갈 경우, 처음 요청때 변경된 코드가 다음 요청때 반영될 수 있기 때문\r\n          })\r\n          .finally(() => {\r\n            //성공하든 실패하든 얘는 무조건 실행\r\n          });\r\n      }\r\n    },\r\n    [email, nickname, password, passwordCheck, mismatchError],\r\n  );\r\n  // useCallback 함수는 자체적으로 [email, nickname, password, passwordCheck] 안의 값이\r\n  //바뀌기 전 까지 함수의 결과값을 캐싱하고있음\r\n  //[] 안에는 함수 기준 외부 함수만, 변화를 감지시켜야 할 것들만 잘 골라서 쓰기\r\n\r\n  if (data) {\r\n    console.log('datacheck sign: ', data);\r\n    return <Redirect to=\"/workspace/sleact/channel/일반\" />;\r\n  }\r\n\r\n  return (\r\n    <div id=\"container\">\r\n      <Header>Sleact</Header>\r\n      <Form onSubmit={onSubmit}>\r\n        <Label id=\"email-label\">\r\n          <span>이메일 주소</span>\r\n          <div>\r\n            <Input type=\"email\" id=\"email\" name=\"email\" value={email} onChange={onChangeEmail} />\r\n          </div>\r\n        </Label>\r\n        <Label id=\"nickname-label\">\r\n          <span>닉네임</span>\r\n          <div>\r\n            <Input type=\"text\" id=\"nickname\" name=\"nickname\" value={nickname} onChange={onChangeNickname} />\r\n          </div>\r\n        </Label>\r\n        <Label id=\"password-label\">\r\n          <span>비밀번호</span>\r\n          <div>\r\n            <Input type=\"password\" id=\"password\" name=\"password\" value={password} onChange={onChangePassword} />\r\n          </div>\r\n        </Label>\r\n        <Label id=\"password-check-label\">\r\n          <span>비밀번호 확인</span>\r\n          <div>\r\n            <Input\r\n              type=\"password\"\r\n              id=\"password-check\"\r\n              name=\"password-check\"\r\n              value={passwordCheck}\r\n              onChange={onChangePasswordCheck}\r\n            />\r\n          </div>\r\n          {mismatchError && <Error>비밀번호가 일치하지 않습니다.</Error>}\r\n          {/* {/* {!nickname && <Error>닉네임을 입력해주세요.</Error>} */}\r\n          {signUpError && <Error>{signUpError}</Error>}\r\n          {signUpSuccess && <Success>회원가입되었습니다! 로그인해주세요.</Success>}\r\n        </Label>\r\n        <Button type=\"submit\">회원가입</Button>\r\n      </Form>\r\n      <LinkContainer>\r\n        이미 회원이신가요?&nbsp;\r\n        <Link to=\"/login\">로그인 하러가기</Link>\r\n      </LinkContainer>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SignUp;\r\n","import axios from 'axios';\r\nimport React from 'react';\r\n\r\nconst fetcher = <Data,>(url: string): any => {\r\n  const A = axios\r\n    .get<Data>(url, {\r\n      withCredentials: true,\r\n    })\r\n    .then((response) => response.data);\r\n\r\n  return A;\r\n};\r\n\r\nexport default fetcher;\r\n"],"names":["initialData","useState","value","setValue","useCallback","e","target","Header","styled","Form","Label","Input","Button","Error","Success","LinkContainer","useSWR","fetcher","data","error","mutate","useInput","email","onChangeEmail","nickname","onChangeNickname","password","setPassword","passwordCheck","setPasswordCheck","mismatchError","setmismatchError","signUpError","setSignUpError","signUpSuccess","setSignUpSuccess","onChangePassword","console","log","onChangePasswordCheck","onSubmit","preventDefault","axios","withCredentials","then","response","catch","finally","to","id","type","name","onChange","url"],"sourceRoot":""}