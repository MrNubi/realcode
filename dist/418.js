(self.webpackChunksleact_ts_front=self.webpackChunksleact_ts_front||[]).push([[418],{31632:(n,e,t)=>{"use strict";var r;t.d(e,{n:()=>i});var o,a,i=t(5996).Z.button(r||(o=["\n  background: transparent;\n  border: none;\n  width: 26px;\n  height: 26px;\n  display: inline-flex;\n  justify-content: center;\n  align-items: center;\n  color: white;\n  margin-left: 10px;\n  cursor: pointer;\n  ",";\n"],a||(a=o.slice(0)),r=Object.freeze(Object.defineProperties(o,{raw:{value:Object.freeze(a)}}))),(function(n){return n.collapse&&"\n    & i {\n      transform: none;\n    }\n  "}))},79250:(n,e,t)=>{"use strict";t.d(e,{Z:()=>h});var r=t(15692),o=t(92610),a=t(66187),i=t(9669),l=t.n(i),c=t(67294),s=t(16550),u=t(96042),d=t(35260),p=t(83757);function f(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}const h=function(n){var e,t,i=n.show,h=n.onCloseModal,m=n.setShowInviteChannelModal,b=(e=(0,o.Z)(""),t=3,function(n){if(Array.isArray(n))return n}(e)||function(n,e){var t=null==n?null:"undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=t){var r,o,a=[],i=!0,l=!1;try{for(t=t.call(n);!(i=(r=t.next()).done)&&(a.push(r.value),!e||a.length!==e);i=!0);}catch(n){l=!0,o=n}finally{try{i||null==t.return||t.return()}finally{if(l)throw o}}return a}}(e,t)||function(n,e){if(n){if("string"==typeof n)return f(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);return"Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t?Array.from(n):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?f(n,e):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),g=b[0],x=b[1],v=b[2],w=(0,s.UO)(),y=w.workspace,k=w.channel,E=(0,p.ZP)("/api/users",d.Z,{}).data,C=(0,p.ZP)(E&&k?"/api/workspaces/".concat(y,"/channels/").concat(k,"/members"):null,d.Z),Z=(C.data,C.mutate),_=(0,c.useCallback)((function(n){n.preventDefault(),g&&g.trim()&&l().post("/api/workspaces/".concat(y,"/channels/").concat(k,"/members"),{email:g}).then((function(n){Z(n.data,!1),m(!1),v("")})).catch((function(n){var e;console.dir(n),u.Am.error(null===(e=n.response)||void 0===e?void 0:e.data,{position:"bottom-center"})}))}),[g]);return c.createElement(r.Z,{show:i,onCloseModal:h},c.createElement("form",{onSubmit:_},c.createElement(a.__,{id:"member-label"},c.createElement("span",null,"이메일"),c.createElement(a.II,{id:"member",type:"email",value:g,onChange:x})),c.createElement(a.zx,{type:"submit"},"초대하기")))}},15692:(n,e,t)=>{"use strict";t.d(e,{Z:()=>u});var r,o,a=t(5996);function i(n,e){return e||(e=n.slice(0)),Object.freeze(Object.defineProperties(n,{raw:{value:Object.freeze(e)}}))}var l=a.Z.div(r||(r=i(["\n  position: fixed;\n  text-align: center;\n  left: 0;\n  bottom: 0;\n  top: 0;\n  right: 0;\n  z-index: 1022;\n  & > div {\n    margin-top: 200px;\n    display: inline-block;\n    width: 440px;\n    background: white;\n    --saf-0: rgba(var(--sk_foreground_low, 29, 28, 29), 0.13);\n    box-shadow: 0 0 0 1px var(--saf-0), 0 4px 12px 0 rgba(0, 0, 0, 0.12);\n    background-color: rgba(var(--sk_foreground_min_solid, 248, 248, 248), 1);\n    border-radius: 6px;\n    user-select: none;\n    max-width: 440px;\n    padding: 30px 40px 0;\n    z-index: 1012;\n    position: relative;\n  }\n"]))),c=a.Z.button(o||(o=i(["\n  position: absolute;\n  right: 10px;\n  top: 6px;\n  background: transparent;\n  border: none;\n  font-size: 30px;\n  cursor: pointer;\n"]))),s=t(67294);const u=function(n){var e=n.show,t=n.children,r=n.onCloseModal,o=(0,s.useCallback)((function(n){n.stopPropagation()}),[]);return e?s.createElement(l,{onClick:r},s.createElement("div",{onClick:o},s.createElement(c,{onClick:r},"×"),t)):null}},92610:(n,e,t)=>{"use strict";t.d(e,{Z:()=>a});var r=t(67294);function o(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}const a=function(n){var e,t,a=(e=(0,r.useState)(n),t=2,function(n){if(Array.isArray(n))return n}(e)||function(n,e){var t=null==n?null:"undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=t){var r,o,a=[],i=!0,l=!1;try{for(t=t.call(n);!(i=(r=t.next()).done)&&(a.push(r.value),!e||a.length!==e);i=!0);}catch(n){l=!0,o=n}finally{try{i||null==t.return||t.return()}finally{if(l)throw o}}return a}}(e,t)||function(n,e){if(n){if("string"==typeof n)return o(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);return"Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t?Array.from(n):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?o(n,e):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),i=a[0],l=a[1];return[i,(0,r.useCallback)((function(n){l(n.target.value)}),[]),l]}},59786:(n,e,t)=>{"use strict";t.r(e),t.d(e,{default:()=>yn});var r,o,a=t(67294),i=t(5996);function l(n,e){return e||(e=n.slice(0)),Object.freeze(Object.defineProperties(n,{raw:{value:Object.freeze(e)}}))}var c=i.Z.div(r||(r=l(["\n  position: fixed;\n  top: 0;\n  right: 0;\n  left: 0;\n  bottom: 0;\n  z-index: 1000;\n  & > div {\n    position: absolute;\n    display: inline-block;\n    --saf-0: rgba(var(--sk_foreground_low, 29, 28, 29), 0.13);\n    box-shadow: 0 0 0 1px var(--saf-0), 0 4px 12px 0 rgba(0, 0, 0, 0.12);\n    background-color: rgba(var(--sk_foreground_min_solid, 248, 248, 248), 1);\n    border-radius: 6px;\n    user-select: none;\n    min-width: 360px;\n    z-index: 512;\n    max-height: calc(100vh - 20px);\n    color: rgb(29, 28, 29);\n  }\n"]))),s=i.Z.button(o||(o=l(["\n  position: absolute;\n  right: 10px;\n  top: 6px;\n  background: transparent;\n  border: none;\n  font-size: 30px;\n  cursor: pointer;\n"]))),u=function(n){var e=n.children,t=n.style,r=n.show,o=n.onCloseModal,i=n.closeButton,l=(0,a.useCallback)((function(n){n.stopPropagation()}),[]);return r?a.createElement(c,{onClick:o},a.createElement("div",{style:t,onClick:l},i&&a.createElement(s,{onClick:o},"×"),e)):null};u.defaultProps={closeButton:!0};const d=u;var p,f,h,m,b,g,x,v,w,y,k,E,C,Z,_=t(23810),S=t(9669),A=t.n(S),I=t(16550),j=t(83757),O=t(35260);function z(n,e){return e||(e=n.slice(0)),Object.freeze(Object.defineProperties(n,{raw:{value:Object.freeze(e)}}))}i.Z.div(p||(p=z(["\n  float: right;\n"])));var M=i.Z.header(f||(f=z(["\n  height: 38px;\n  background: #350d36;\n  color: #ffffff;\n  box-shadow: 0 1px 0 0 rgba(255, 255, 255, 0.1);\n  padding: 5px;\n  text-align: center;\n"]))),P=i.Z.img(h||(h=z(["\n  width: 28px;\n  height: 28px;\n  position: absolute;\n  top: 5px;\n  right: 16px;\n"]))),U=i.Z.div(m||(m=z(["\n  display: flex;\n  padding: 20px;\n  & img {\n    display: flex;\n  }\n  & > div {\n    display: flex;\n    flex-direction: column;\n    margin-left: 10px;\n  }\n  & #profile-name {\n    font-weight: bold;\n    display: inline-flex;\n  }\n  & #profile-active {\n    font-size: 13px;\n    display: inline-flex;\n  }\n"]))),D=i.Z.button(b||(b=z(["\n  border: none;\n  width: 100%;\n  border-top: 1px solid rgb(29, 28, 29);\n  background: transparent;\n  display: block;\n  height: 33px;\n  padding: 5px 20px 5px;\n  outline: none;\n  cursor: pointer;\n"]))),T=i.Z.div(g||(g=z(["\n  display: flex;\n  flex: 1;\n"]))),L=i.Z.div(x||(x=z(["\n  width: 65px;\n  display: inline-flex;\n  flex-direction: column;\n  align-items: center;\n  background: #3f0e40;\n  border-top: 1px solid rgb(82, 38, 83);\n  border-right: 1px solid rgb(82, 38, 83);\n  vertical-align: top;\n  text-align: center;\n  padding: 15px 0 0;\n"]))),$=i.Z.nav(v||(v=z(["\n  width: 260px;\n  display: inline-flex;\n  flex-direction: column;\n  background: #3f0e40;\n  color: rgb(188, 171, 188);\n  vertical-align: top;\n  & a {\n    padding-left: 36px;\n    color: inherit;\n    text-decoration: none;\n    height: 28px;\n    line-height: 28px;\n    display: flex;\n    align-items: center;\n    &.selected {\n      color: white;\n    }\n  }\n  & .bold {\n    color: white;\n    font-weight: bold;\n  }\n  & .count {\n    margin-left: auto;\n    background: #cd2553;\n    border-radius: 16px;\n    display: inline-block;\n    font-size: 12px;\n    font-weight: 700;\n    height: 18px;\n    line-height: 18px;\n    padding: 0 9px;\n    color: white;\n    margin-right: 16px;\n  }\n  & h2 {\n    height: 36px;\n    line-height: 36px;\n    margin: 0;\n    text-overflow: ellipsis;\n    overflow: hidden;\n    white-space: nowrap;\n    font-size: 15px;\n  }\n"]))),q=i.Z.button(w||(w=z(["\n  height: 64px;\n  line-height: 64px;\n  border: none;\n  width: 100%;\n  text-align: left;\n  border-top: 1px solid rgb(82, 38, 83);\n  border-bottom: 1px solid rgb(82, 38, 83);\n  font-weight: 900;\n  font-size: 24px;\n  background: transparent;\n  text-overflow: ellipsis;\n  overflow: hidden;\n  white-space: nowrap;\n  padding: 0;\n  padding-left: 16px;\n  margin: 0;\n  color: white;\n  cursor: pointer;\n"]))),W=i.Z.div(y||(y=z(["\n  height: calc(100vh - 102px);\n  overflow-y: auto;\n"]))),N=i.Z.div(k||(k=z(["\n  padding: 10px 0 0;\n  & h2 {\n    padding-left: 20px;\n  }\n  & > button {\n    width: 100%;\n    height: 28px;\n    padding: 4px;\n    border: none;\n    background: transparent;\n    border-top: 1px solid rgb(28, 29, 28);\n    cursor: pointer;\n    &:last-of-type {\n      border-bottom: 1px solid rgb(28, 29, 28);\n    }\n  }\n"]))),B=i.Z.div(E||(E=z(["\n  flex: 1;\n"]))),F=i.Z.button(C||(C=z(["\n  color: white;\n  font-size: 24px;\n  display: inline-block;\n  width: 40px;\n  height: 40px;\n  background: transparent;\n  border: none;\n  cursor: pointer;\n"]))),H=i.Z.button(Z||(Z=z(["\n  display: inline-block;\n  width: 40px;\n  height: 40px;\n  border-radius: 10px;\n  background: white;\n  border: 3px solid #3f0e40;\n  margin-bottom: 15px;\n  font-size: 18px;\n  font-weight: 700;\n  color: black;\n  cursor: pointer;\n"]))),Q=t(73727),G=t(15692),J=t(66187),K=t(92610),R=t(96042);function V(n,e){return function(n){if(Array.isArray(n))return n}(n)||function(n,e){var t=null==n?null:"undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=t){var r,o,a=[],i=!0,l=!1;try{for(t=t.call(n);!(i=(r=t.next()).done)&&(a.push(r.value),!e||a.length!==e);i=!0);}catch(n){l=!0,o=n}finally{try{i||null==t.return||t.return()}finally{if(l)throw o}}return a}}(n,e)||function(n,e){if(n){if("string"==typeof n)return X(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);return"Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t?Array.from(n):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?X(n,e):void 0}}(n,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function X(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}const Y=function(n){var e=n.show,t=n.onCloseModal,r=n.setShowCreateChannelModal,o=V((0,K.Z)(""),3),i=o[0],l=o[1],c=o[2],s=V((0,K.Z)(""),2),u=(s[0],s[1],(0,I.UO)()),d=u.workspace,p=(u.channel,(0,j.ZP)("/api/users",O.Z,{dedupingInterval:2e3})),f=p.data,h=(p.error,p.mutate,(0,j.ZP)(f?"/api/workspaces/".concat(d,"/channels"):null,O.Z)),m=(h.data,h.mutate),b=(0,a.useCallback)((function(n){n.preventDefault(),A().post("/api/workspaces/".concat(d,"/channels"),{name:i},{withCredentials:!0}).then((function(n){console.log("create channel: ",n.data),m(),r(!1),c("")})).catch((function(n){var e;console.dir("e :",n),R.Am.error(null===(e=n.response)||void 0===e?void 0:e.data,{position:"bottom-center"})}))}),[i]);return a.createElement(G.Z,{show:e,onCloseModal:t},a.createElement("form",{onSubmit:b},a.createElement(J.__,{id:"channel-label"},a.createElement("span",null,"채널"),a.createElement(J.II,{id:"channel",value:i,onChange:l})),a.createElement(J.zx,{type:"submit"},"생성하기")))};function nn(n,e){return function(n){if(Array.isArray(n))return n}(n)||function(n,e){var t=null==n?null:"undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=t){var r,o,a=[],i=!0,l=!1;try{for(t=t.call(n);!(i=(r=t.next()).done)&&(a.push(r.value),!e||a.length!==e);i=!0);}catch(n){l=!0,o=n}finally{try{i||null==t.return||t.return()}finally{if(l)throw o}}return a}}(n,e)||function(n,e){if(n){if("string"==typeof n)return en(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);return"Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t?Array.from(n):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?en(n,e):void 0}}(n,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function en(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}const tn=function(n){var e=n.show,t=n.onCloseModal,r=n.setShowInviteWorkspaceModal,o=nn((0,K.Z)(""),3),i=o[0],l=o[1],c=o[2],s=nn((0,K.Z)(""),2),u=(s[0],s[1],(0,I.UO)()),d=u.workspace,p=(u.channel,(0,j.ZP)("/api/users",O.Z,{}).data),f=(0,j.ZP)(p?"/api/workspaces/".concat(d,"/members"):null,O.Z),h=(f.data,f.mutate),m=(0,a.useCallback)((function(n){n.preventDefault(),i&&i.trim()&&A().post("/api/workspaces/".concat(d,"/members"),{email:i}).then((function(n){h(n.data,!1),r(!1),c("")})).catch((function(n){var e;console.dir(n),R.Am.error(null===(e=n.response)||void 0===e?void 0:e.data,{position:"bottom-center"})}))}),[d,i]);return a.createElement(G.Z,{show:e,onCloseModal:t},a.createElement("form",{onSubmit:m},a.createElement(J.__,{id:"member-label"},a.createElement("span",null,"이메일"),a.createElement(J.II,{id:"member",type:"email",value:i,onChange:l})),a.createElement(J.zx,{type:"submit"},"초대하기")))};var rn=t(79250),on=t(31632);function an(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}const ln=function(){var n,e,t=(0,I.UO)().workspace,r=(0,j.ZP)("/api/users",O.Z,{dedupingInterval:2e3}),o=r.data,i=(r.error,r.mutate,(0,j.ZP)(o?"/api/workspaces/".concat(t,"/channels"):null,O.Z).data),l=(n=(0,a.useState)(!1),e=2,function(n){if(Array.isArray(n))return n}(n)||function(n,e){var t=null==n?null:"undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=t){var r,o,a=[],i=!0,l=!1;try{for(t=t.call(n);!(i=(r=t.next()).done)&&(a.push(r.value),!e||a.length!==e);i=!0);}catch(n){l=!0,o=n}finally{try{i||null==t.return||t.return()}finally{if(l)throw o}}return a}}(n,e)||function(n,e){if(n){if("string"==typeof n)return an(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);return"Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t?Array.from(n):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?an(n,e):void 0}}(n,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),c=l[0],s=l[1],u=(0,a.useCallback)((function(){s((function(n){return!n}))}),[]);return a.createElement(a.Fragment,null,a.createElement("h2",null,a.createElement(on.n,{collapse:c,onClick:u},a.createElement("i",{className:"c-icon p-channel_sidebar__section_heading_expand p-channel_sidebar__section_heading_expand--show_more_feature c-icon--caret-right c-icon--inherit c-icon--inline","data-qa":"channel-section-collapse","aria-hidden":"true"})),a.createElement("span",null,"Channels")),a.createElement("div",null,!c&&(null==i?void 0:i.map((function(n){return a.createElement(Q.OL,{key:n.name,activeClassName:"selected",to:"/workspace/".concat(t,"/channel/").concat(n.name)},a.createElement("span",null,"# ",n.name))})))))};var cn=t(86809),sn=t.n(cn),un={};const dn=function(n){console.log("rerender",n);var e=(0,a.useCallback)((function(){n&&(un[n].disconnect(),delete un[n])}),[n]);return n?(un[n]||(un[n]=sn().connect("".concat("http://localhost:3095","/ws-").concat(n),{transports:["websocket"]})),[un[n],e]):[void 0,e]};function pn(n,e){return function(n){if(Array.isArray(n))return n}(n)||function(n,e){var t=null==n?null:"undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=t){var r,o,a=[],i=!0,l=!1;try{for(t=t.call(n);!(i=(r=t.next()).done)&&(a.push(r.value),!e||a.length!==e);i=!0);}catch(n){l=!0,o=n}finally{try{i||null==t.return||t.return()}finally{if(l)throw o}}return a}}(n,e)||function(n,e){if(n){if("string"==typeof n)return fn(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);return"Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t?Array.from(n):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?fn(n,e):void 0}}(n,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function fn(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}const hn=function(){var n=(0,I.UO)(),e=n.workspace,t=(n.id,(0,j.ZP)("/api/users",O.Z,{dedupingInterval:2e3})),r=t.data,o=(t.error,t.mutate,(0,j.ZP)(r?"/api/workspaces/".concat(e,"/members"):null,O.Z).data),i=pn(dn(e),1)[0],l=pn((0,a.useState)(!1),2),c=l[0],s=l[1],u=pn((0,a.useState)([]),2),d=u[0],p=u[1],f=(0,a.useCallback)((function(){s((function(n){return!n}))}),[]);return(0,a.useEffect)((function(){console.log("DMList: workspace 바꼈다",e),p([])}),[e]),(0,a.useEffect)((function(){return null==i||i.on("onlineList",(function(n){console.log(n),p(n)})),function(){null==i||i.off("onlineList")}}),[i]),a.createElement(a.Fragment,null,a.createElement("h2",null,a.createElement(on.n,{collapse:c,onClick:f},a.createElement("i",{className:"c-icon p-channel_sidebar__section_heading_expand p-channel_sidebar__section_heading_expand--show_more_feature c-icon--caret-right c-icon--inherit c-icon--inline","data-qa":"channel-section-collapse","aria-hidden":"true"})),a.createElement("span",null,"Direct Messages")),a.createElement("div",null,!c&&(null==o?void 0:o.map((function(n){var t=d.includes(n.id);return a.createElement(Q.OL,{key:n.id,activeClassName:"selected",to:"/workspace/".concat(e,"/dm/").concat(n.id)},a.createElement("i",{className:"c-icon p-channel_sidebar__presence_icon p-channel_sidebar__presence_icon--dim_enabled c-presence ".concat(t?"c-presence--active c-icon--presence-online":"c-icon--presence-offline"),"aria-hidden":"true","data-qa":"presence_indicator","data-qa-presence-self":"false","data-qa-presence-active":"false","data-qa-presence-dnd":"false"}),a.createElement("span",null,n.nickname),n.id===(null==r?void 0:r.id)&&a.createElement("span",null," (나)"))})))))},mn=t.p+"046a9b521b8e5adc4388.png";function bn(n){return bn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},bn(n)}function gn(n,e){return function(n){if(Array.isArray(n))return n}(n)||function(n,e){var t=null==n?null:"undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=t){var r,o,a=[],i=!0,l=!1;try{for(t=t.call(n);!(i=(r=t.next()).done)&&(a.push(r.value),!e||a.length!==e);i=!0);}catch(n){l=!0,o=n}finally{try{i||null==t.return||t.return()}finally{if(l)throw o}}return a}}(n,e)||function(n,e){if(n){if("string"==typeof n)return xn(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);return"Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t?Array.from(n):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?xn(n,e):void 0}}(n,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function xn(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}var vn=(0,_.ZP)((function(){return t.e(256).then(t.bind(t,65256))})),wn=(0,_.ZP)((function(){return t.e(94).then(t.bind(t,83094))}));const yn=function(){var n,e=(0,I.UO)(),t=e.workspace,r=e.channel,o=(0,j.ZP)("/api/users",O.Z,{dedupingInterval:2e3}),i=o.data,l=(o.error,o.mutate),c=(0,j.ZP)(i?"/api/workspaces/".concat(t,"/channels"):null,O.Z).data,s=(0,j.ZP)(i&&r?"/api/workspaces/".concat(t,"/channels/").concat(r,"/members"):null,O.Z,{refreshInterval:1e3}),u=(s.data,s.mutate,gn((0,a.useState)(!1),2)),p=u[0],f=u[1],h=gn((0,a.useState)(!1),2),m=h[0],b=h[1],g=gn((0,a.useState)(!1),2),x=g[0],v=g[1],w=gn((0,a.useState)(!1),2),y=w[0],k=w[1],E=gn((0,a.useState)(!1),2),C=E[0],Z=E[1],_=gn((0,a.useState)(!1),2),S=_[0],z=_[1],V=gn((0,K.Z)(""),3),X=V[0],nn=V[1],en=V[2],on=gn((0,K.Z)(""),3),an=on[0],cn=on[1],sn=on[2],un=gn(dn(t),2),pn=un[0],fn=un[1];(0,a.useEffect)((function(){c&&i&&pn&&(console.log("socket :",pn),pn.emit("login",{id:i.id,channels:c.map((function(n){return n.id}))}))}),[pn,c,i]),(0,a.useEffect)((function(){return function(){fn()}}),[t,fn]);var xn=(0,a.useCallback)((function(n){n.stopPropagation(),f((function(n){return!n}))}),[]),yn=(0,a.useCallback)((function(){b(!0)}),[]);console.log("showUserMenu3 :",p),console.log("UserData LastCheck: ",i);var kn=(0,a.useCallback)((function(){A().post("http://localhost:3095/api/users/logout",null,{withCredentials:!0}).then((function(n){l(n.data,!1),console.log("onLogOut :",n.data)})).catch((function(n){alert(n.response.data?n.response.data:"애러 캐치 실패")}))}),[]),En=(0,a.useCallback)((function(){b(!1),k(!1),Z(!1),z(!1)}),[]),Cn=(0,a.useCallback)((function(){k(!0)}),[]),Zn=((0,a.useCallback)((function(){Z(!0)}),[]),(0,a.useCallback)((function(){z(!0)}),[]),(0,a.useCallback)((function(){v((function(n){return!n}))}),[]));console.log("channelData: ",c,bn(c));var _n=(0,a.useCallback)((function(n){n.preventDefault(),X&&X.trim()&&an&&an.trim()&&A().post("/api/workspaces",{workspace:X,url:an},{withCredentials:!0}).then((function(n){console.log("modalData :",n),l(),b(!1),en(""),sn(""),console.log("data check CreateWS: ",i)})).catch((function(n){var e;console.dir(n),R.Am.error(null===(e=n.response)||void 0===e?void 0:e.data,{position:"bottom-center"})}))}),[X,an]);return a.createElement("div",null,a.createElement(M,null,a.createElement("span",{onClick:xn},a.createElement(P,{src:mn,alt:"fail to load profile"}),p&&a.createElement(d,{style:{right:0,top:38},show:p,onCloseModal:xn},a.createElement(U,null,a.createElement("img",{src:mn}),a.createElement("div",null,a.createElement("span",{id:"profile-name"},i?i.nickname:"false"),a.createElement("span",{id:"profile-active"},"Active"))),a.createElement(D,{onClick:kn},"로그아웃")))),a.createElement(T,null,a.createElement(L,null,null==i||null===(n=i.Workspaces)||void 0===n?void 0:n.map((function(n){return a.createElement(Q.rU,{key:n.id,to:"/workspace/".concat(n.url,"/channel/일반")},a.createElement(H,null,n.name.slice(0,1).toUpperCase()))})),a.createElement(F,{onClick:yn},"+")),a.createElement($,null,a.createElement(q,{onClick:Zn},"sleact"),a.createElement(W,null,a.createElement(d,{show:x,onCloseModal:Zn,style:{top:95,left:80}},a.createElement(N,null,a.createElement("h2",null,"Sleact"),a.createElement("button",{onClick:Cn},"채널 만들기"),a.createElement("button",{onClick:kn},"로그아웃"))),a.createElement(ln,null),a.createElement(hn,null))),a.createElement(B,null,a.createElement(I.rs,null,a.createElement(I.AW,{path:"/workspace/:workspace/channel/:channel",component:vn}),a.createElement(I.AW,{path:"/workspace/:workspace/dm/:id",component:wn})))),a.createElement(G.Z,{show:m,onCloseModal:En},a.createElement("form",{onSubmit:_n},a.createElement(J.__,{id:"workspace-label"},a.createElement("span",null,"workspace 이름"),a.createElement(J.II,{id:"workspace",value:X,onChange:nn})),a.createElement(J.__,{id:"workspace-url-label"},a.createElement("span",null,"workspace url"),a.createElement(J.II,{id:"workspace",value:an,onChange:cn})),a.createElement(J.zx,{type:"submit"},"생성하기"))),a.createElement(Y,{show:y,onCloseModal:En,setShowCreateChannelModal:k}),a.createElement(tn,{show:C,onCloseModal:En,setShowInviteWorkspaceModal:Z}),a.createElement(rn.Z,{show:S,onCloseModal:En,setShowInviteChannelModal:z}))}},66187:(n,e,t)=>{"use strict";t.d(e,{II:()=>k,QD:()=>g,Th:()=>w,__:()=>y,h4:()=>b,sH:()=>v,tw:()=>x,zx:()=>E});var r,o,a,i,l,c,s,u,d,p,f,h=t(5996);function m(n,e){return e||(e=n.slice(0)),Object.freeze(Object.defineProperties(n,{raw:{value:Object.freeze(e)}}))}var b=h.Z.header(r||(r=m(["\n  margin-bottom: 0.6rem;\n  text-align: center;\n  font-size: 1.125rem;\n  line-height: 1.75rem;\n  font-weight: 700;\n"]))),g=h.Z.div(o||(o=m(["\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  width: 80vh;\n\n  height: 100vh;\n  padding: 24px;\n"]))),x=h.Z.div(a||(a=m(["\n  display: felx;\n  overflow: hidden\n  align-items: center;\n  justify-contents: center;\n  min-height: 250px;\n  min-width:300px;\n  width: 75%;\n  height: 40%;\n  background-color: white;\n  padding: 12px;\n  padding-left: 50px;\n  padding-right: 50px;\n  border-radius: 0.75rem;\n  margin-left: auto;\n  margin-right: auto;\n  @media all and (min-width: 768px) {\n    .md:w-96 {\n      width: 384px;\n    }\n  }\n"],["\n  display: felx;\n  overflow: hidden\n  align-items: center;\n  justify-contents: center;\n  min-height: 250px;\n  min-width:300px;\n  width: 75%;\n  height: 40%;\n  background-color: white;\n  padding: 12px;\n  padding-left: 50px;\n  padding-right: 50px;\n  border-radius: 0.75rem;\n  margin-left: auto;\n  margin-right: auto;\n  @media all and (min-width: 768px) {\n    .md\\:w-96 {\n      width: 384px;\n    }\n  }\n"]))),v=h.Z.div(i||(i=m(["\n  display: felx;\n  overflow: hidden\n  align-items: center;\n  justify-contents: center;\n  min-height: 250px;\n  min-width:300px;\n  width: 100%;\n  height: 60%;\n  background-color: white;\n  padding: 12px;\n  padding-left: 50px;\n  padding-right: 50px;\n  border-radius: 0.75rem;\n  margin-left: auto;\n  margin-right: auto;\n  @media all and (min-width: 768px) {\n    .md:w-96 {\n      width: 384px;\n    }\n  }\n"],["\n  display: felx;\n  overflow: hidden\n  align-items: center;\n  justify-contents: center;\n  min-height: 250px;\n  min-width:300px;\n  width: 100%;\n  height: 60%;\n  background-color: white;\n  padding: 12px;\n  padding-left: 50px;\n  padding-right: 50px;\n  border-radius: 0.75rem;\n  margin-left: auto;\n  margin-right: auto;\n  @media all and (min-width: 768px) {\n    .md\\:w-96 {\n      width: 384px;\n    }\n  }\n"]))),w=h.Z.button(l||(l=m(["\n  text-align: center;\n  width: 100%;\n\n  color: rgba(var(--sk_primary_foreground, 255, 255, 255), 1);\n  background-color: rgba(var(--sk_primary_background, 83, 83, 83), 1);\n  cursor: pointer;\n  border-radius: 15px;\n  padding: 5px;\n\n  font-family: 'Inter';\n  font-style: normal;\n  font-size: 15px;\n  &:focus {\n    --saf-0: rgba(var(--sk_highlight, 18, 100, 163), 1);\n    box-shadow: 0 0 0 1px var(--saf-0), 0 0 0 5px rgba(29, 155, 209, 0.3);\n  }\n"]))),y=h.Z.label(c||(c=m(["\n  margin-bottom: 16px;\n  & > span {\n    display: block;\n    text-align: left;\n    padding-bottom: 8px;\n    font-size: 15px;\n    cursor: pointer;\n    line-height: 1.46666667;\n    font-weight: 700;\n  }\n"]))),k=h.Z.input(s||(s=m(["\n  border-radius: 4px;\n  --saf-0: rgba(var(--sk_foreground_high_solid, 134, 134, 134), 1);\n  border: 1px solid var(--saf-0);\n  transition: border 80ms ease-out, box-shadow 80ms ease-out;\n  box-sizing: border-box;\n  margin: 0 0 20px;\n  width: 100%;\n  color: rgba(var(--sk_primary_foreground, 29, 28, 29), 1);\n  background-color: rgba(var(--sk_primary_background, 255, 255, 255), 1);\n  padding: 12px;\n  height: 44px;\n  padding-top: 11px;\n  padding-bottom: 13px;\n  font-size: 18px;\n  line-height: 1.33333333;\n  &:focus {\n    --saf-0: rgba(var(--sk_highlight, 18, 100, 163), 1);\n    box-shadow: 0 0 0 1px var(--saf-0), 0 0 0 5px rgba(29, 155, 209, 0.3);\n  }\n"]))),E=h.Z.button(u||(u=m(["\n  margin-bottom: 12px;\n  width: 100%;\n  max-width: 100%;\n  color: #fff;\n  background-color: #4a154b;\n  border: none;\n  font-size: 18px;\n  font-weight: 900;\n  height: 44px;\n  min-width: 96px;\n  padding: 0 16px 3px;\n  transition: all 80ms linear;\n  user-select: none;\n  outline: none;\n  cursor: pointer;\n  border-radius: 4px;\n  box-shadow: 0 1px 4px rgba(0, 0, 0, 0.3);\n  &:hover {\n    background-color: rgba(74, 21, 75, 0.9);\n    border: none;\n  }\n  &:focus {\n    --saf-0: rgba(var(--sk_highlight, 18, 100, 163), 1);\n    box-shadow: 0 0 0 1px var(--saf-0), 0 0 0 5px rgba(29, 155, 209, 0.3);\n  }\n"])));h.Z.div(d||(d=m(["\n  color: #e01e5a;\n  margin: 8px 0 16px;\n  font-weight: bold;\n"]))),h.Z.div(p||(p=m(["\n  color: #2eb67d;\n  font-weight: bold;\n"]))),h.Z.p(f||(f=m(["\n  font-size: 13px;\n  color: #616061;\n  margin: 0 auto 8px;\n  width: 400px;\n  max-width: 400px;\n  & a {\n    color: #1264a3;\n    text-decoration: none;\n    font-weight: 700;\n    &:hover {\n      text-decoration: underline;\n    }\n  }\n"])))},35260:(n,e,t)=>{"use strict";t.d(e,{Z:()=>a});var r=t(9669),o=t.n(r);const a=function(n){return o().get(n,{withCredentials:!0}).then((function(n){return n.data}))}},77020:()=>{}}]);